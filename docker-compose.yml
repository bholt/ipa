version: '2'

services:
  
  cass:
    # build: ./docker/cassandra
    image: bholt/cassandra
    # ports:
    #   - '7000:7000'
    command: cassandra -f
    environment:
      JVM_OPTS: -Dcassandra.consistent.rangemovement=false
      CASSANDRA_SEEDS: owl_cass_1
    privileged: true
    networks:
      - dev
    # cpu_shares: 10

  owl:
    image: bholt/owl
    command: tail -f /dev/null
    privileged: true
    networks:
      - dev
    environment:
      CASSANDRA_HOST: owl_cass_1
    #   - "constraint:node==ibex"
    # cpu_shares: 30

networks:
  default:
    driver: overlay
  dev:
    driver: overlay
